package RazerOfficial.Razer.gg.module.impl.exploit;

import RazerOfficial.Razer.gg.api.Razer;
import RazerOfficial.Razer.gg.component.impl.player.PingSpoofComponent;
import RazerOfficial.Razer.gg.event.Listener;
import RazerOfficial.Razer.gg.event.annotations.EventLink;
import RazerOfficial.Razer.gg.event.impl.motion.PreUpdateEvent;
import RazerOfficial.Razer.gg.module.Module;
import RazerOfficial.Razer.gg.module.api.Category;
import RazerOfficial.Razer.gg.module.api.ModuleInfo;
import RazerOfficial.Razer.gg.util.math.MathUtil;
import RazerOfficial.Razer.gg.value.impl.BooleanValue;
import RazerOfficial.Razer.gg.value.impl.BoundsNumberValue;

/**
 * @author Alan
 * @since 28/05/2022
 */
@Razer
@ModuleInfo(name = "module.combat.pingspoof.name", description = "module.exploit.pingspoof.description", category = Category.EXPLOIT)
public class PingSpoof extends Module {

    private final BoundsNumberValue delay = new BoundsNumberValue("Delay", this, 1000, 1500, 50, 30000, 1);
    private final BooleanValue teleports = new BooleanValue("Delay Teleports", this, false);
    private final BooleanValue velocity = new BooleanValue("Delay Velocity", this, false);
    private final BooleanValue world = new BooleanValue("Delay Block Updates", this, false);
    private final BooleanValue entities = new BooleanValue("Delay Entity Movements", this, false);

    @EventLink()
    public final Listener<PreUpdateEvent> onPreUpdate = event -> {
        PingSpoofComponent.setSpoofing((int) MathUtil.getRandom(delay.getValue().intValue(), delay.getSecondValue().intValue()),
                true, teleports.getValue(), velocity.getValue(), world.getValue(), entities.getValue());
    };
}
