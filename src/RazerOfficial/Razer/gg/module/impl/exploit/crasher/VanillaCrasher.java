package RazerOfficial.Razer.gg.module.impl.exploit.crasher;

import RazerOfficial.Razer.gg.event.Listener;
import RazerOfficial.Razer.gg.event.annotations.EventLink;
import RazerOfficial.Razer.gg.event.impl.motion.PreMotionEvent;
import RazerOfficial.Razer.gg.module.impl.exploit.Crasher;
import RazerOfficial.Razer.gg.util.interfaces.InstanceAccess;
import RazerOfficial.Razer.gg.value.Mode;

public class VanillaCrasher extends Mode<Crasher> {

    private double x;
    private double y;
    private double z;

    public VanillaCrasher(String name, Crasher parent) {
        super(name, parent);
    }

    @EventLink()
    public final Listener<PreMotionEvent> onPreMotionEvent = event -> {

        final double amount = 5;

        x += amount;
        y = Math.min(y + amount, 255);
        z += amount;

        event.setPosX(x);
        event.setPosY(y);
        event.setPosZ(z);
    };

    @Override
    public void onEnable() {
        x = InstanceAccess.mc.thePlayer.posX;
        y = InstanceAccess.mc.thePlayer.posY;
        z = InstanceAccess.mc.thePlayer.posZ;
    }
}